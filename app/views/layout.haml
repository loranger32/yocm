!!! 5
%html.h-100
  %head

    %meta{ charset: 'utf-8' }
    %meta{ 'http-equiv' => 'x-ua-compatible', content: 'ie=edge' }
    %meta{ name: 'viewport', content: 'width=device-width, initial-scale=1, shrink-to-fit=no' }
    %meta{ name: 'language', content: 'en' }
    %meta{ name: 'author', content: 'Laurent Guinotte' }
    %meta{ name: 'copyright', content: 'Laurent Guinotte' }
    %link{ rel: 'shortcut icon', href: '/images/layer.png', type: 'image/x-icon' }
    %link{ rel: 'icon', href: '/images/layer.png', type: 'image/x-icon' }
    %link{ rel: 'stylesheet', href: '/css/bootstrap-icons.css' }

    != assets(:css)

    %title= tab_title(@tab_title)

  %body.d-flex.flex-column.h-100{"hx-boost" => true}
    %main.flex-shrink-0
      != partial("partials/navbar")
    
      .container-fluid
        .d-none.d-xxl-block
          %h1.text-center.mb-2
            Yocm - GUI
          %h2.h4.text-center.text-muted.mb-4 Your Own Company Monitor
        %h3.text-center.mb-3.mb-xxl-5!= @page_title

        != partial("partials/flash")
        != yield

    %footer.mt-auto.py-1.bg-dark
      %p.text-center.text-white
        %img{src:"/images/layer.png", alt: "Yocm Logo", width: "18", height: "13", class: "d-inline-block"}
        Yocm - Created by
        %a{href: "https://github.com/loranger32"} Laurent Guinotte 
        2024 - Copyright - GNU AGPL3
      %p.text-center.text-white
        Layer Icons created by
        %a{href: "https://www.flaticon.com/free-icons/layer", title: "layer icons" } Freepik
        from
        %a{ href: 'https://www.flaticon.com/', title: 'Flaticon'} www.flaticon.com
      

    %button#backToTop{title: "Back to top"}
      %i.bi.bi-arrow-up

    != assets([:js, :bootstrap])
    != assets([:js, :main])
    != assets([:js, :htmx])
    != content_for(:js)
    :javascript
      const backToTopButton = document.getElementById("backToTop");
      
      window.addEventListener("scroll", () => {
        if (window.scrollY > 300) {
          backToTopButton.style.display = "block";
        } else {
          backToTopButton.style.display = "none";
        }
      });
      
      backToTopButton.addEventListener("click", () => {
        window.scrollTo({
          top: 0,
          behavior: "smooth"
        });
      });
